!function(e){var t={};function n(a){if(t[a])return t[a].exports;var _=t[a]={i:a,l:!1,exports:{}};return e[a].call(_.exports,_,_.exports,n),_.l=!0,_.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var _ in e)n.d(a,_,function(t){return e[t]}.bind(null,_));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=700)}({17:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GENERATE_NEW_MNEMONIC="generate_new_mnemonic",e.CREATE_NEW_WALLET="create_new_wallet",e.GET_WALLET_STATE="get_wallet_state",e.GET_WALLET_IDS="get_wallet_ids",e.GET_WALLET_RECEIVE_ADDRESS="get_wallet_receive_address",e.GET_WALLET_BALANCE="get_wallet_balance",e.SELECT_WALLET="select_wallet",e.UNLOCK_WALLET="unlock_wallet",e.ADD_TX_QUEUE="add_tx_queue",e.LOCK_WALLET="lock_wallet",e.FULL_RESCAN="full_rescan",e.STOP_RESCAN="stop_rescan",e.IMPORT_NONCE="import_nonce",e.GET_NONCE="get_nonce",e.CHECK_FOR_RESCAN="check_for_rescan",e.GET_TRANSACTIONS="get_transactions",e.GET_TX_NONCE="get_tx_nonce",e.RESET_TRANSACTIONS="reset_transactions",e.RESET_DOMAINS="reset_domains",e.GET_PENDING_TRANSACTIONS="get_pending_transactions",e.GET_COIN="get_coin",e.GET_DOMAIN_NAME="get_domain_name",e.GET_DOMAIN_NAMES="get_domain_names",e.GET_NAME_NONCE="get_name_nonce",e.GET_BIDS_BY_NAME="get_bids_by_name",e.CREATE_TX="create_tx",e.CREATE_SEND="create_send",e.CREATE_OPEN="create_open",e.CREATE_BID="create_bid",e.CREATE_REVEAL="create_reveal",e.CREATE_REDEEM="create_redeem",e.CREATE_UPDATE="create_update",e.UPDATE_TX_QUEUE="update_tx_queue",e.GET_TX_QUEUE="get_tx_queue",e.SUBMIT_TX="submit_tx",e.REJECT_TX="reject_tx",e.UPDATE_TX_FROM_QUEUE="updateTxFromQueue",e.REMOVE_TX_FROM_QUEUE="removeTxFromQueue",e.REVEAL_SEED="reveal_seed",e.SIGN_MESSAGE="signMessage",e.SIGN_MESSAGE_WITH_NAME="signMessageWithName",e.GET_LATEST_BLOCK="get_latest_block",e.GET_NAME_RESOURCE="get_name_resource",e.GET_NAME_BY_HASH="get_name_by_hash",e.HASH_NAME="hashName",e.ESTIMATE_SMART_FEE="estimate_smart_fee",e.VERIFY_MESSAGE="verifyMessage",e.VERIFY_MESSAGE_WITH_NAME="verifyMessageWithName",e.GET_API="get_api",e.SET_RPC_HOST="set_rpc_host",e.SET_RPC_KEY="set_rpc_key",e.GET_ANALYTICS="getAnalytics",e.SET_ANALYTICS="setAnalytics",e.SET_RESOLVER="setResolver",e.GET_RESOLVER="getResolver",e.MP_TRACK="mp_track",e.READ_DB_AS_BUFFER="read_db_as_buffer",e.RESET_DB="reset_db",e.CONNECT="connect",e.DISCONNECTED="disconnected",e.NEW_BLOCK="new_block",e.SEND_TX="send_tx",e.SEND_OPEN="send_open",e.SEND_BID="send_bid",e.SEND_REVEAL="send_reveal",e.SEND_REDEEM="send_redeem",e.SEND_UPDATE="send_update",e.CHECK_TORRENT="torrent/check",e.CONSUME_TORRENT="torrent/consume",e.CLEAR_TORRENT="torrent/clear",e.OPEN_FEDERALIST="federalist/open"}(a||(a={})),t.default=a},700:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const _=a(n(17)),E={};let r=0;async function o(){const e=await s({type:_.default.GET_WALLET_STATE});if(e&&e.locked)throw new Error("wallet is locked.")}const c={sign:async function(e,t){return await s({type:_.default.SIGN_MESSAGE,payload:{address:e,msg:t}})},signWithName:async function(e,t){return await s({type:_.default.SIGN_MESSAGE_WITH_NAME,payload:{name:e,msg:t}})},verify:async function(e,t,n){return await s({type:_.default.VERIFY_MESSAGE,payload:{msg:e,signature:t,address:n}})},verifyWithName:async function(e,t,n){return await s({type:_.default.VERIFY_MESSAGE_WITH_NAME,payload:{msg:e,signature:t,name:n}})},getBalance:async function(){return await o(),s({type:_.default.GET_WALLET_BALANCE})},getAddress:async function(){return await o(),s({type:_.default.GET_WALLET_RECEIVE_ADDRESS})},createReveal:async function(e){return await o(),s({type:_.default.CREATE_REVEAL,payload:{name:e}})},send:async function(e,t){return await o(),s({type:_.default.SEND_TX,payload:{address:e,amount:t}})},sendOpen:async function(e){return await o(),s({type:_.default.SEND_OPEN,payload:{name:e}})},sendBid:async function(e,t,n){return await o(),s({type:_.default.SEND_BID,payload:{name:e,amount:t,lockup:n}})},sendReveal:async function(e){return await o(),s({type:_.default.SEND_REVEAL,payload:e})},sendRedeem:async function(e){return await o(),s({type:_.default.SEND_REDEEM,payload:e})},sendUpdate:async function(e,t){return await o(),s({type:_.default.SEND_UPDATE,payload:{name:e,data:{records:t}}})},onDisconnect:async function(e){return E.disconnect={resolve:e,reject:e},null},onNewBlock:async function(e){return E.newBlock={resolve:e,reject:e},null},getBidsByName:async function(e){return await s({type:_.default.GET_BIDS_BY_NAME,payload:e})},getNames:async function(){return await s({type:_.default.GET_DOMAIN_NAMES})},getPending:async function(e){return await s({type:_.default.GET_PENDING_TRANSACTIONS,payload:{shouldBroadcast:!0}})},hashName:async function(e){return await s({type:_.default.HASH_NAME,payload:e})}};async function s(e){return new Promise((t,n)=>{const a=r++;window.postMessage({target:"bob3-contentscript",message:e,nonce:a},"*"),E[a]={resolve:t,reject:n}})}window.bob3={connect:async function(){return await s({type:_.default.CONNECT}),c},isLocked:async function(){const e=await s({type:_.default.GET_WALLET_STATE});return!(!e||!e.locked)}},window.addEventListener("message",e=>{const t=e.data;if(t&&"bob3-injectedscript"===t.target){if(!E[t.nonce])return;const[e,n]=t.payload,{resolve:a,reject:_}=E[t.nonce];if(e)return _(new Error(e));if(a(n),"newBlock"===t.nonce)return;delete E[t.nonce]}})}});